picdict = {
	"Base":"https://i.imgur.com/Zl2KjRP.png",
	"Tank Buster Base":"https://i.imgur.com/Y6zsIyq.png",
	"Blaster":"https://i.imgur.com/3t9hMBg.png",
	"Stinger":"https://i.imgur.com/YPhWJfY.png",
	"Helicopter":"https://i.imgur.com/pf6gaGW.png",
	"Mortar":"https://i.imgur.com/Mcxczbv.png",
	"Rocket Launcher":"https://i.imgur.com/6rzfGV2.png",
	"Soldier":"https://i.imgur.com/JPHwHD8.png",
	"Jet":"https://i.imgur.com/WbgE1eR.png",
	"Siege Tank":"https://i.imgur.com/aFP8sXu.png",
	"Tank":"https://i.imgur.com/kYNdd0g.png",
	"Bike":"https://i.imgur.com/8iEhokN.png",
	"Machine Gun Truck":"https://i.imgur.com/oFokQ0q.png",
	"Turret Truck":"https://i.imgur.com/MKW2SIU.png",
	"Howitzer":"https://i.imgur.com/L5lV4Kv.png",
	"Tank Buster Cannon":"https://i.imgur.com/BDpgcrX.png",
	"Attack Helicopter":"https://i.imgur.com/jNUITRH.png",
	"Transport Helicopter":"https://i.imgur.com/Q042sLt.png",
	"Assault":"https://i.imgur.com/oUAvSoQ.png",
	"Heavy Machine Gun":"https://i.imgur.com/kEskjje.png",
	"Bomber":"https://i.imgur.com/8NzewZQ.png",
	"Hybrid Tank":"https://i.imgur.com/WuUIOpY.png",
	"Recon Tank":"https://i.imgur.com/dGJ2uj6.png",
	"Rocket Siege Tank":"https://i.imgur.com/CXArnAc.png",
	"Turret Tank":"https://i.imgur.com/By3xdVS.png",
	"Tank Buster Truck":"https://i.imgur.com/kVOAQan.png",
	"Trike":"https://i.imgur.com/pKbWLkF.png",
	"Command Base":"https://i.imgur.com/RoE2rPh.png",
	"Photon Base":"https://i.imgur.com/X3EAbA9.png",
	"Soldier Base":"https://i.imgur.com/jFQ7enn.png",
	"Turret Base":"https://i.imgur.com/BAGUuSL.png",
	"Typhoon":"https://i.imgur.com/ghktyfP.png",
	"Commando":"https://i.imgur.com/WUwZ6MH.png",
	"Mechanic":"https://i.imgur.com/WSMxknc.png",
	"Photon Trooper":"https://i.imgur.com/js2kW58.png",
	"Special Ops":"https://i.imgur.com/nupBioh.png",
	"Glider":"https://i.imgur.com/ACBxiso.png",
	"Transport":"https://i.imgur.com/ErmXbep.png",
	"Ace Tank":"https://i.imgur.com/Xo0jzgH.png",
	"Sonic Tank":"https://i.imgur.com/18nVnpq.png",
	"A.P.C.":"https://i.imgur.com/CLVLztD.png",
	"Paratrooper":"https://i.imgur.com/4XOhBmW.png",
	"Stealth Bomber":"https://i.imgur.com/fme7Czv.png",
	"Warthog":"https://i.imgur.com/ZApheBb.png",
	"Anti-Vehicle Base":"https://i.imgur.com/3foi9BM.png",
	"Fire Base":"https://i.imgur.com/YkwDGcS.png",
	"Standard Base":"https://i.imgur.com/ZkxsAmo.png",
	"Heavy Infantry":"https://i.imgur.com/hTTGYWI.png",
	"Pyroblaster":"https://i.imgur.com/5aFPOWh.png",
	"Anti-Vehicle Infantry":"https://i.imgur.com/xr8mjn1.png",
	"Infantry":"https://i.imgur.com/WvilxPo.png",
	"Hunter":"https://i.imgur.com/FXiZmcE.png",
	"Artillery Tank":"https://i.imgur.com/HFGaWF0.png",
	"Shredder":"https://i.imgur.com/Qbk0waI.png",
	"Standard Tank":"https://i.imgur.com/8vq00rO.png",
	"Anti-Air Truck":"https://i.imgur.com/CEVExC4.png",
	"Attack Truck":"https://i.imgur.com/qbA8ASN.png",
	"Motorcycle":"https://i.imgur.com/tpbDSkz.png",
	"Heavy Mortar":"https://i.imgur.com/WOaL3v9.png",
	"Rocket Copter":"https://i.imgur.com/8IouQOY.png",
	"Bomb Balloon":"https://i.imgur.com/l6KTguL.png",
	"Intercopter":"https://i.imgur.com/Ss5PaYM.png",
	"Attack Trooper":"https://i.imgur.com/wB4wORW.png",
	"Stationary Gunner":"https://i.imgur.com/mGGSeVT.png",
	"Fire Bomber":"https://i.imgur.com/GdjMqeu.png",
	"Anti-Air Tank":"https://i.imgur.com/WwhsX9M.png",
	"Dual-Tech Tank":"https://i.imgur.com/ZSNMrWH.png",
	"Mini-Tank":"https://i.imgur.com/wowDer5.png",
	"Ambulance":"https://i.imgur.com/zFd2dPM.png",
	"Cannon Truck":"https://i.imgur.com/XbGenPV.png",
	"Sidecar":"https://i.imgur.com/mWIvoNB.png",
	"Anti-Air Base":"https://i.imgur.com/FhbnNN3.png",
	"Laser Base":"https://i.imgur.com/NYHjagG.png",
	"Sniper Base":"https://i.imgur.com/39OJxfi.png",
	"Drone":"https://i.imgur.com/11nfUIa.png",
	"Engineer":"https://i.imgur.com/jKQvpHv.png",
	"Laser Trooper":"https://i.imgur.com/m5aUYxj.png",
	"Sniper":"https://i.imgur.com/exo3PtF.png",
	"Mini Tank Transporter":"https://i.imgur.com/RgYiGjt.png",
	"Command Tank":"https://i.imgur.com/xZQgCAo.png",
	"Heavy Tank":"https://i.imgur.com/KNJtFio.png",
	"Missile Defense":"https://i.imgur.com/FMcvd7N.png",
	"Soundwave Tank":"https://i.imgur.com/QSjE2zk.png",
	"Hover Truck":"https://i.imgur.com/88Qogie.png",
	"Mine Layer":"https://i.imgur.com/7YZcQ6G.png",
	"Mecha-Soldier":"https://i.imgur.com/CmJzCkZ.png",
	"Doomsky":"https://i.imgur.com/s1N6XaR.png",
	"Laser Tank":"https://i.imgur.com/FLGq7zY.png",
	"Anti-Vehicle Fort":"https://i.imgur.com/DozZnVj.png",
	"Fort":"https://i.imgur.com/7DOEGqf.png",
	"Armored Infantry":"https://i.imgur.com/1objyzs.png",
	"Flamethrower":"https://i.imgur.com/kauq6Hz.png",
	"Missile Soldier":"https://i.imgur.com/9y43VCg.png",
	"Chopper":"https://i.imgur.com/OtxzF67.png",
	"Rifleman":"https://i.imgur.com/6puLwJi.png",
	"Rocket Soldier":"https://i.imgur.com/Lq3yW3L.png",
	"Small Bertha":"https://i.imgur.com/YTuvVBp.png",
	"Crocodile Tank":"https://i.imgur.com/HKcgxJH.png",
	"Giraffe Tank":"https://i.imgur.com/CwPolvh.png",
	"Lion Tank":"https://i.imgur.com/V1L8FIR.png",
	"Cheetah Bike":"https://i.imgur.com/xsH7cVh.png",
	"Mongoose Truck":"https://i.imgur.com/ru2pF7B.png",
	"War Hound Truck":"https://i.imgur.com/ZQK33gM.png",
	"First Aid Fort":"https://i.imgur.com/rvrcwf6.png",
	"Anti-Vehicle Cannon":"https://i.imgur.com/30sJ7SZ.png",
	"Big Bertha":"https://i.imgur.com/gtoI4yS.png",
	"Hovering Balloon":"https://i.imgur.com/7n3gqYR.png",
	"Elite Rifleman":"https://i.imgur.com/P4cLXrK.png",
	"Tripod Gunner":"https://i.imgur.com/NHA3QIz.png",
	"Dragon Plane":"https://i.imgur.com/s4BL0dp.png",
	"Pelican Plane":"https://i.imgur.com/eRqDMcu.png",
	"Fox Tank":"https://i.imgur.com/qYLvocM.png",
	"Ram Truck":"https://i.imgur.com/337HEXM.png",
	"Siamese Bike":"https://i.imgur.com/RsXtu0P.png",
	"Turtle Truck":"https://i.imgur.com/YR5GRNZ.png",
	"Anti-Air Fort":"https://i.imgur.com/Yh8V8sP.png",
	"Command Fort":"https://i.imgur.com/6LOXhxS.png",
	"Marksman Fort":"https://i.imgur.com/HVkNx8N.png",
	"Tank Lady":"https://i.imgur.com/zTrAQo9.png",
	"Zeppelin":"https://i.imgur.com/yPQQHfD.png",
	"Combat Medic":"https://i.imgur.com/eF5VR8D.png",
	"Grenadier":"https://i.imgur.com/595Xg2I.png",
	"Marksman":"https://i.imgur.com/BMNkrSe.png",
	"Stork Plane":"https://i.imgur.com/RpX9Zwo.png",
	"Dragon Tank":"https://i.imgur.com/xvNQc8W.png",
	"Rhino Tank":"https://i.imgur.com/vKmkwR9.png",
	"S.A.M.":"https://i.imgur.com/sPslohk.png",
	"Alligator Truck":"https://i.imgur.com/2WpkfwR.png",
	"Kangaroo Truck":"https://i.imgur.com/gpMcU5t.png",
	"Power Armor":"https://i.imgur.com/S0X7Jti.png",
	"Airborne Trooper":"https://i.imgur.com/TrGgQID.png",
	"Mammoth Tank":"https://i.imgur.com/VM2rAhz.png",
	"Interceptor":"https://i.imgur.com/4BmvxZn.png",
	"Rocket Artillery Tank":"https://i.imgur.com/di8LEiL.png",
	"Commander":"https://i.imgur.com/AkKjoo9.png",
	"Cobra Tank":"https://i.imgur.com/1QoWg4w.png",
	"General":"https://i.imgur.com/kO2XE9E.png",
	"Tempest":"https://i.imgur.com/rsOEo8v.png",
        "Republic Bunker":"https://i.imgur.com/8hSwf6N.png",
        "Dominion Bunker":"https://i.imgur.com/AzwiRT8.png",
        "Empire Bunker":"https://i.imgur.com/u4NudZ2.png",
}

class Unit:
	def __init__(self):
		self.name = ""
		self.utype = ""
		self.rarity = ""
		self.unlockedbyunit = ""
		self.unlockedbylvl = ""
		self.maxlvl = ""
		self.squad = ""
		self.apcost = ""
		self.upkeep = ""
		self.movespd = ""
		self.runspd = ""
		self.deploytime = ""
		self.hitsinf = ""
		self.hitshi = ""
		self.hitsvehicle = ""
		self.hitstank = ""
		self.hitsplane = ""
		self.hitsheli = ""
		self.hitsbase = ""
		self.basehp = ""
		self.hplvl = ""
		self.d1type = ""
		self.d1dmg = ""
		self.d1dmglvl = ""
		self.d1range = ""
		self.d1spread = ""
		self.d1clip = ""
		self.d1aim = ""
		self.d1fire = ""
		self.d1reload = ""
		self.d1hitsinf = ""
		self.d1hitshi = ""
		self.d1hitsvehicle = ""
		self.d1hitstank = ""
		self.d1hitsplane = ""
		self.d1hitsheli = ""
		self.d1hitsbase = ""
		self.d2type = ""
		self.d2dmg = ""
		self.d2dmglvl = ""
		self.d2range = ""
		self.d2spread = ""
		self.d2clip = ""
		self.d2aim = ""
		self.d2fire = ""
		self.d2reload = ""
		self.d2hitsinf = ""
		self.d2hitshi = ""
		self.d2hitsvehicle = ""
		self.d2hitstank = ""
		self.d2hitsplane = ""
		self.d2hitsheli = ""
		self.d2hitsbase = ""
		self.trait1 = ""
		self.trait2 = ""
		self.trait3 = ""
		self.resistsinf = ""
		self.resistshi = ""
		self.resistsvehicle = ""
		self.resiststank = ""
		self.resistsplane = ""
		self.resistsheli = ""
		self.resistsbase = ""
		self.faction = ""
		self.d1hitsinfP =  ""
		self.d1hitshiP = ""
		self.d1hitsvehicleP = ""
		self.d1hitstankP = ""
		self.d1hitsheliP = ""
		self.d1hitsplaneP = ""
		self.d1hitsbaseP = ""
		self.d2hitsinfP =  ""
		self.d2hitshiP = ""
		self.d2hitsvehicleP = ""
		self.d2hitstankP = ""
		self.d2hitsheliP = ""
		self.d2hitsplaneP = ""
		self.d2hitsbaseP = ""
	
	def getName(self,lvl=0):
		if lvl:
			lvl = min(lvl, self.maxlvl)
			return "Lv. {0} {1}".format(lvl,self.name)
		else:
			return self.name

	def getType(self):
		return "{0} {1}".format(self.rarity,self.utype)

	def getRarityColor(self):
		if self.rarity == "Common":
			return 0xc0c0c0
		elif self.rarity == "Rare":
			return 0x00ff00
		elif self.rarity == "Epic":
			return 0xff00ff
		else:
			return 0xffff00
	
	def getPic(self):
		return picdict[self.name]

	def getIcon(self):
		if self.faction == "Republic":
			return "https://i.imgur.com/iiUF5bH.png"
		elif self.faction == "Dominion":
			return "https://i.imgur.com/sCjN6i3.png"
		return "https://i.imgur.com/OSZ5e4i.png"

	def getUnlocksFrom(self):
		if self.unlockedbylvl != "---":
			return "{0} {1}".format(self.unlockedbylvl,self.unlockedbyunit)
		elif self.unlockedbyunit != "---":
			return self.unlockedbyunit
		else:
			return "N/A"

	def getAPUpkeep(self):
		print (self.apcost)
		if self.apcost != "---":
			return "{0} AP - {1:.0%} Upkeep".format(self.apcost,self.upkeep)
		else:
			return "N/A"

	def getMoveRunSpd(self):
		if self.movespd == "---":
			return "N/A"
		elif self.runspd == "---":
			return self.movespd
		else:
			return "{0} - {1}".format(self.movespd,self.runspd)

	def getTargets(self):
		target = ""
		if self.hitsinf == "X":
			target += "Infantry, "
		if self.hitshi == "X":
			target += "Heavy Infantry, "			
		if self.hitsvehicle == "X":
			target += "Vehicle, "
		if self.hitstank == "X":
			target += "Tank, "
		if self.hitsheli == "X":
			target += "Heli, "
		if self.hitsplane == "X":
			target += "Plane, "
		if self.hitsbase == "X":
			target += "Base, "
		if target:
			target = target[:-2]
			return target
		return "N/A"

	def getHP(self,lvl=0):
		if lvl:
			lvl = min(lvl, self.maxlvl)
			HP = int(self.basehp) + int(self.hplvl)*(lvl-1)
			return "{0} HP".format(HP)
		else:
			return "{0} + {1} HP".format(self.basehp,self.hplvl)

	def getDMG1(self,lvl=0):
		if self.d1type == "---":
			return "N/A"
		else:
			aim = float(self.d1aim[:-5])
			fire = float(self.d1fire[:-5])
			rel = float(self.d1reload[:-5])
			dps = self.d1dmg*self.d1clip/(aim+self.d1clip*fire+rel)
			dpslvl = self.d1dmglvl*self.d1clip/(aim+self.d1clip*fire+rel)
			if lvl:
				lvl = min(lvl, self.maxlvl)-1
				sdps = "{0:.1f} dps".format(dps+dpslvl*lvl)
				sdmg = "{0} dmg".format(self.d1dmg+self.d1dmglvl*lvl)
			else:
				sdps = "{0:.1f} + {1:.1f} dps".format(dps, dpslvl)
				sdmg = "{0} dmg".format(self.d1dmg, self.d1dmglvl)
			stype = "{0:24} {1}".format("**Type:**",self.d1type)
			sdps = "{0:19} {1}".format("**True DPS:**",sdps)
			srng = "{0:22} {1}".format("**Range:**",self.d1range)
			sdmg = "{0:19} {1}".format("**Damage:**",sdmg)
			sclip = "{0:22} {1}".format("**Clip Size:**",self.d1clip)
			sspread = "{:22} {}m".format("**Spread:**",self.d1spread)
			saim = "{0:18} {1}s".format("**Aim Time:**",aim)
			sfire = "{0:20} {1}s".format("**Fire Time:**",fire)
			sreload = "{0:13} {1}s".format("**Reload Time:**",rel)
			return "{0}\n{1}\n{2}\n{3}\n{4}\n{5}\n{6}\n{7}\n{8}".format(stype,sdps,srng,sdmg,sclip,sspread,saim,sfire,sreload)

	def getDMG2(self,lvl=0):
		if self.d2type == "---":
			return "N/A"
		elif self.name == "A.P.C.":
			return "Spawns two 2xLVL Soldiers over 8 seconds"
		elif self.name == "Soldier Base":
			return "Spawns a 2xLVL Soldier every 1.5 seconds"
		elif self.name == "Zeppelin":
			return "Spawns two 1.5xLVL Elite Riflemen over 4 seconds"
		elif self.name == "Kangaroo Truck":
			return "Spawns two 2xLVL Riflemen over 8 seconds"
		else:
			aim = float(self.d2aim[:-5])
			fire = float(self.d2fire[:-5])
			if self.d2reload == "---":
				rel = 1
			else:
				rel = float(self.d2reload[:-5])
			if aim == 0 or fire == 0 or self.d2clip == 0 or rel == 0:
				dps = self.d2dmg
				dpslvl = self.d2dmglvl
			else:
				dps = self.d2dmg*self.d2clip/(aim+self.d2clip*fire+rel)
				dpslvl = self.d2dmglvl*self.d2clip/(aim+self.d2clip*fire+rel)
			if lvl:
				lvl = min(lvl, self.maxlvl)-1
				sdps = "{0:.1f} dps".format(dps+dpslvl*lvl)
				sdmg = "{0} dmg".format(self.d2dmg+self.d2dmglvl*lvl)
			else:
				sdps = "{0:.1f} + {1:.1f} dps".format(dps, dpslvl)
				sdmg = "{0} dmg".format(self.d2dmg, self.d2dmglvl)
			stype = "{0:24} {1}".format("**Type:**",self.d2type)
			sdps = "{0:19} {1}".format("**True DPS:**",sdps)
			srng = "{0:22} {1}".format("**Range:**",self.d2range)
			sdmg = "{0:19} {1}".format("**Damage:**",sdmg)
			sclip = "{0:22} {1}".format("**Clip Size:**",self.d2clip)
			sspread = "{:22} {}m".format("**Spread:**",self.d2spread)
			saim = "{0:18} {1}s".format("**Aim Time:**",aim)
			sfire = "{0:20} {1}s".format("**Fire Time:**",fire)
			sreload = "{0:13} {1}s".format("**Reload Time:**",rel)
			return "{0}\n{1}\n{2}\n{3}\n{4}\n{5}\n{6}\n{7}\n{8}".format(stype,sdps,srng,sdmg,sclip,sspread,saim,sfire,sreload)

	def getTraits(self):
		traits = ""
		if self.trait1 != "---":
			traits += "{0}, ".format(self.trait1)
		if self.trait2 != "---":
			traits += "{0}, ".format(self.trait2)
		if self.trait3 != "---":
			traits += "{0}, ".format(self.trait3)
		if traits:
			traits = traits[:-2]
			return traits
		return "N/A"
		

	def getResists(self):
		resists = ""
		print(self.resistsinf)
		if self.resistsinf != 0:
			resists += "{0} Infantry, ".format(self.resistsinf)
		if self.resistshi != 0:
			resists += "{0} Heavy Infantry, ".format(self.resistshi)
		if self.resistsvehicle != 0:
			resists += "{0} Vehicle, ".format(self.resistsvehicle)
		if self.resiststank != 0:
			resists += "{0} Tank, ".format(self.resiststank)
		if self.resistsheli != 0:
			resists += "{0} Heli, ".format(self.resistsheli)
		if self.resistsplane != 0:
			resists += "{0} Plane, ".format(self.resistsplane)
		if self.resistsbase != 0:
			resists += "{0} Base, ".format(self.resistsbase)
		if resists:
			resists = resists[:-2]
			return resists
		return "N/A"
		
	def getPriority(self, dmg):
		if dmg == 1:
			inf = self.d1hitsinfP
			hi = self.d1hitshiP
			veh = self.d1hitsvehicleP
			tank = self.d1hitstankP
			heli = self.d1hitsheliP
			plane = self.d1hitsplaneP
			base = self.d1hitsbaseP	
		else:
			inf = self.d2hitsinfP
			hi = self.d2hitshiP
			veh = self.d2hitsvehicleP
			tank = self.d2hitstankP
			heli = self.d2hitsheliP
			plane = self.d2hitsplaneP
			base = self.d2hitsbaseP
		p = ["","","","","",""]
		if inf[0] != "-":
			infp = int(inf[0])-1
			p[infp] += "Inf,"
		if hi[0] != "-":	
			hip = int(hi[0])-1
			p[hip] += "HI,"
		if veh[0] != "-":
			vehp = int(veh[0])-1
			p[vehp] += "Vehicle,"
		if tank[0] != "-":
			tankp = int(tank[0])-1
			p[tankp] += "Tank,"
		if heli[0] != "-":
			helip = int(heli[0])-1
			p[helip] += "Heli,"
		if plane[0] != "-":
			planep = int(plane[0])-1
			p[planep] += "Plane,"
		if base[0] != "-":
			basep = int(base[0])-1
			p[basep] += "Base,"
		if (len(p[0]) == 0):
			return "N/A"
		result = p[0][:-1]
		for i in range(1,7):
			if (len(p[i]) == 0):
				return result
			result += ">"+p[i][:-1]
		return result